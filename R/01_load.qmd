---
title: "01_load"
format: html
editor: visual
---

```{r}
library(tidyverse)
library(here)
```

# Loading Data

```{r}

# Dropbox url
url <- "https://www.dropbox.com/scl/fi/xo2tgbhknzelxazhu6qcg/group_6_data_2.zip?rlkey=q0awssn7v4vgi4xfpk2pgl142&st=blph5keq&dl=1"

# Download the zip file
download.file(url, destfile = here("raw_data/group_6_data.zip"))

# Unzip the downloaded file
unzip(here("raw_data/group_6_data.zip"), exdir = here("raw_data"))
```

```{r}

# read in csv files for all cell populations

.df_hsc <- read_csv2(file = here("raw_data/group6_data_HSC_Report.csv"), na= "NaN")
.df_mep <- read_csv2(file = here("raw_data/group6_data_MEP_Report.csv"), na= "NaN")
.df_gmp <- read_csv2(file = here("raw_data/group6_data_GMP_Report.csv"), na= "NaN")
.df_clp <- read_csv2(file = here("raw_data/group6_data_CLP_Report.csv"), na= "NaN")
.df_cmp <- read_csv2(file = here("raw_data/group6_data_CMP_Report.csv"), na= "NaN")


# read in tsv file for mus musculus uniprot file

.df_uniprot_mouse <- read_csv2(file = here("raw_data/uniprotkb_mus_musculus.tsv"), na= "NaN")


#| echo: false
#| eval: false

```

```{r}
# write tsv files
project_path = here()
setwd(project_path)
dir.create("data")
write_tsv(.df_hsc, "data/01_dat_load_hsc.tsv")
write_tsv(.df_mep, "data/01_dat_load_mep.tsv")
write_tsv(.df_gmp, "data/01_dat_load_gmp.tsv")
write_tsv(.df_clp, "data/01_dat_load_clp.tsv")
write_tsv(.df_cmp, "data/01_dat_load_cmp.tsv")

write_tsv(.df_uniprot_mouse, "data/01_dat_load_uniprot_mouse.tsv")
```
